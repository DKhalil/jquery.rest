{"version":3,"sources":["jquery.rest/jquery.js"],"names":["Cache","Resource","Verb","defaultOpts","deleteWarning","encode64","error","inheritExtend","s","stringify","validateOpts","validateStr","msg","Error","n","t","window","btoa","obj","JSON","a","b","F","prototype","$","extend","options","isPlainObject","each","name","undefined","str","type","alert","url","cache","request","resource","ajax","isSingle","autoClearCache","cachableMethods","methodOverride","stringifyData","stripTrailingSlash","password","username","verbs","create","read","update","destroy","dataType","parent1","this","parent","c","valid","date","diff","Date","getTime","opts","key","_this","k","v","get","result","created","when","parse","data","put","responseJSON","clear","regexp","match","name1","method1","method","toUpperCase","root","custom","call","proxy","instance","ref","extractUrlData","arguments","show","d","console","log","nameOrUrl","constructChild","constructRoot","expectedIds","urlNoId","addVerb","del","add","fn","res","toString","args","arg","canUrl","canUrlNoId","i","id","ids","j","l","len","len1","params","providedIds","length","push","replace","RegExp","param","ajaxOpts","encoded","escapedUrl","headers","req","useCache","Authorization","inArray","done","defaults","RestClient"],"mappings":"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","file":"jquery.rest.min.js","sourcesContent":["(function() {\n  'use strict';\n  var Cache, Resource, Verb, defaultOpts, deleteWarning, encode64, error, inheritExtend, s, stringify, validateOpts, validateStr;\n\n  error = function(msg) {\n    throw new Error(\"ERROR: jquery.rest: \" + msg);\n  };\n\n  s = function(n) {\n    var t;\n    t = \"\";\n    while (n-- > 0) {\n      t += \"  \";\n    }\n    return t;\n  };\n\n  encode64 = function(s) {\n    if (!window.btoa) {\n      error(\"You need a polyfill for 'btoa' to use basic auth.\");\n    }\n    return window.btoa(s);\n  };\n\n  stringify = function(obj) {\n    if (!window.JSON) {\n      error(\"You need a polyfill for 'JSON' to use stringify.\");\n    }\n    return window.JSON.stringify(obj);\n  };\n\n  inheritExtend = function(a, b) {\n    var F;\n    F = function() {};\n    F.prototype = a;\n    return $.extend(true, new F(), b);\n  };\n\n  validateOpts = function(options) {\n    if (!(options && $.isPlainObject(options))) {\n      return false;\n    }\n    $.each(options, function(name) {\n      if (defaultOpts[name] === undefined) {\n        return error(\"Unknown option: '\" + name + \"'\");\n      }\n    });\n    return null;\n  };\n\n  validateStr = function(name, str) {\n    if ('string' !== $.type(str)) {\n      return error(\"'\" + name + \"' must be a string\");\n    }\n  };\n\n  deleteWarning = function() {\n    return alert('\"delete()\" has been deprecated. Please use \"destroy()\" or \"del()\" instead.');\n  };\n\n  defaultOpts = {\n    url: '',\n    cache: 0,\n    request: function(resource, options) {\n      return $.ajax(options);\n    },\n    isSingle: false,\n    autoClearCache: true,\n    cachableMethods: ['GET'],\n    methodOverride: false,\n    stringifyData: false,\n    stripTrailingSlash: false,\n    password: null,\n    username: null,\n    verbs: {\n      'create': 'POST',\n      'read': 'GET',\n      'update': 'PUT',\n      'destroy': 'DELETE'\n    },\n    ajax: {\n      dataType: 'json'\n    }\n  };\n\n  Cache = (function() {\n    function Cache(parent1) {\n      this.parent = parent1;\n      this.c = {};\n    }\n\n    Cache.prototype.valid = function(date) {\n      var diff;\n      diff = new Date().getTime() - date.getTime();\n      return diff <= this.parent.opts.cache * 1000;\n    };\n\n    Cache.prototype.key = function(obj) {\n      var key;\n      key = \"\";\n      $.each(obj, (function(_this) {\n        return function(k, v) {\n          return key += k + \"=\" + ($.isPlainObject(v) ? \"{\" + _this.key(v) + \"}\" : v) + \"|\";\n        };\n      })(this));\n      return key;\n    };\n\n    Cache.prototype.get = function(key) {\n      var result;\n      result = this.c[key];\n      if (!result) {\n        return;\n      }\n      if (this.valid(result.created)) {\n        return $.when(JSON.parse(JSON.stringify(result.data)));\n      }\n    };\n\n    Cache.prototype.put = function(key, data) {\n      data = JSON.parse(JSON.stringify(data.responseJSON));\n      return this.c[key] = {\n        created: new Date(),\n        data: data\n      };\n    };\n\n    Cache.prototype.clear = function(regexp) {\n      if (regexp) {\n        return $.each(this.c, (function(_this) {\n          return function(k) {\n            if (k.match(regexp)) {\n              return delete _this.c[k];\n            }\n          };\n        })(this));\n      } else {\n        return this.c = {};\n      }\n    };\n\n    return Cache;\n\n  })();\n\n  Verb = (function() {\n    function Verb(name1, method1, options, parent1) {\n      this.name = name1;\n      this.method = method1;\n      if (options == null) {\n        options = {};\n      }\n      this.parent = parent1;\n      validateStr('name', this.name);\n      validateStr('method', this.method);\n      validateOpts(options);\n      if (this.parent[this.name]) {\n        error(\"Cannot add Verb: '\" + name + \"' already exists\");\n      }\n      this.method = this.method.toUpperCase();\n      if (!options.url) {\n        options.url = '';\n      }\n      this.opts = inheritExtend(this.parent.opts, options);\n      this.root = this.parent.root;\n      this.custom = !defaultOpts.verbs[this.name];\n      this.call = $.proxy(this.call, this);\n      this.call.instance = this;\n    }\n\n    Verb.prototype.call = function() {\n      var data, ref, url;\n      ref = this.parent.extractUrlData(this.method, arguments), url = ref.url, data = ref.data;\n      if (this.custom) {\n        url += this.opts.url || this.name;\n      }\n      return this.parent.ajax.call(this, this.method, url, data);\n    };\n\n    Verb.prototype.show = function(d) {\n      return console.log(s(d) + this.name + \": \" + this.method);\n    };\n\n    return Verb;\n\n  })();\n\n  Resource = (function() {\n    function Resource(nameOrUrl, options, parent) {\n      if (options == null) {\n        options = {};\n      }\n      validateOpts(options);\n      if (parent && parent instanceof Resource) {\n        this.name = nameOrUrl;\n        validateStr('name', this.name);\n        this.constructChild(parent, options);\n      } else {\n        this.url = nameOrUrl || '';\n        validateStr('url', this.url);\n        this.constructRoot(options);\n      }\n    }\n\n    Resource.prototype.constructRoot = function(options) {\n      this.opts = inheritExtend(defaultOpts, options);\n      this.root = this;\n      this.expectedIds = 0;\n      this.urlNoId = this.url;\n      this.cache = new Cache(this);\n      this.parent = null;\n      return this.name = this.opts.name || 'ROOT';\n    };\n\n    Resource.prototype.constructChild = function(parent1, options) {\n      this.parent = parent1;\n      validateStr('name', this.name);\n      if (!(this.parent instanceof Resource)) {\n        this.error(\"Invalid parent\");\n      }\n      if (this.parent[this.name]) {\n        this.error(\"'\" + name + \"' already exists\");\n      }\n      if (!options.url) {\n        options.url = '';\n      }\n      this.opts = inheritExtend(this.parent.opts, options);\n      this.opts.isSingle = 'isSingle' in options && options.isSingle;\n      this.root = this.parent.root;\n      this.urlNoId = this.parent.url + ((this.opts.url || this.name) + \"/\");\n      this.url = this.urlNoId;\n      this.expectedIds = this.parent.expectedIds;\n      if (!this.opts.isSingle) {\n        this.expectedIds += 1;\n        this.url += \":ID_\" + this.expectedIds + \"/\";\n      }\n      $.each(this.opts.verbs, $.proxy(this.addVerb, this));\n      if (this.destroy) {\n        this.del = this.destroy;\n        return this[\"delete\"] = deleteWarning;\n      }\n    };\n\n    Resource.prototype.error = function(msg) {\n      return error(\"Cannot add Resource: \" + msg);\n    };\n\n    Resource.prototype.add = function(name, options) {\n      return this[name] = new Resource(name, options, this);\n    };\n\n    Resource.prototype.addVerb = function(name, method, options) {\n      return this[name] = new Verb(name, method, options, this).call;\n    };\n\n    Resource.prototype.show = function(d) {\n      if (d == null) {\n        d = 0;\n      }\n      if (d > 25) {\n        error(\"Plugin Bug! Recursion Fail\");\n      }\n      if (this.name) {\n        console.log(s(d) + this.name + \": \" + this.url);\n      }\n      $.each(this, function(name, fn) {\n        if ($.type(fn) === 'function' && fn.instance instanceof Verb && name !== 'del') {\n          return fn.instance.show(d + 1);\n        }\n      });\n      $.each(this, function(name, res) {\n        if (name !== \"parent\" && name !== \"root\" && res instanceof Resource) {\n          return res.show(d + 1);\n        }\n      });\n      return null;\n    };\n\n    Resource.prototype.toString = function() {\n      return this.name;\n    };\n\n    Resource.prototype.extractUrlData = function(name, args) {\n      var arg, canUrl, canUrlNoId, data, i, id, ids, j, l, len, len1, msg, params, providedIds, t, url;\n      ids = [];\n      data = null;\n      params = null;\n      for (j = 0, len = args.length; j < len; j++) {\n        arg = args[j];\n        t = $.type(arg);\n        if (t === 'string' || t === 'number') {\n          ids.push(arg);\n        } else if (t === 'object' && data === null) {\n          data = arg;\n        } else if (t === 'object' && params === null) {\n          params = arg;\n        } else {\n          error((\"Invalid argument: \" + arg + \" (\") + this[name] + (\": \" + t + \").\") + \" Must be strings or ints (IDs) followed by one optional object and one optional query params object.\");\n        }\n      }\n      providedIds = ids.length;\n      canUrl = name !== 'create';\n      canUrlNoId = name !== 'update' && name !== 'delete';\n      url = null;\n      if (canUrl && providedIds === this.expectedIds) {\n        url = this.url;\n      }\n      if (canUrlNoId && providedIds === this.expectedIds - 1) {\n        url = this.urlNoId;\n      }\n      if (url === null) {\n        if (canUrlNoId) {\n          msg = this.expectedIds - 1;\n        }\n        if (canUrl) {\n          msg = (msg ? msg + ' or ' : '') + this.expectedIds;\n        }\n        error(\"Invalid number of ID arguments, required \" + msg + \", provided \" + providedIds);\n      }\n      for (i = l = 0, len1 = ids.length; l < len1; i = ++l) {\n        id = ids[i];\n        url = url.replace(new RegExp(\"\\/:ID_\" + (i + 1) + \"\\/\"), \"/\" + id + \"/\");\n      }\n      if (params) {\n        url += \"?\" + ($.param(params));\n      }\n      return {\n        url: url,\n        data: data\n      };\n    };\n\n    Resource.prototype.ajax = function(method, url, data) {\n      var ajaxOpts, encoded, escapedUrl, headers, key, req, useCache;\n      if (!method) {\n        error(\"method missing\");\n      }\n      if (!url) {\n        error(\"url missing\");\n      }\n      headers = {};\n      if (this.opts.username && this.opts.password) {\n        encoded = encode64(this.opts.username + \":\" + this.opts.password);\n        headers.Authorization = \"Basic \" + encoded;\n      }\n      if (data && this.opts.stringifyData && (method !== 'GET' && method !== 'HEAD')) {\n        data = stringify(data);\n        headers['Content-Type'] = \"application/json\";\n      }\n      if (this.opts.methodOverride && (method !== 'GET' && method !== 'HEAD' && method !== 'POST')) {\n        headers['X-HTTP-Method-Override'] = method;\n        method = 'POST';\n      }\n      if (this.opts.stripTrailingSlash) {\n        url = url.replace(/\\/$/, \"\");\n      }\n      ajaxOpts = {\n        url: url,\n        type: method,\n        headers: headers\n      };\n      if (data) {\n        ajaxOpts.data = data;\n      }\n      ajaxOpts = $.extend(true, {}, this.opts.ajax, ajaxOpts);\n      useCache = this.opts.cache && $.inArray(method, this.opts.cachableMethods) >= 0;\n      if (useCache) {\n        key = this.root.cache.key(ajaxOpts);\n        req = this.root.cache.get(key);\n        if (req) {\n          return req;\n        }\n      }\n      if (this.opts.cache && this.opts.autoClearCache && $.inArray(method, this.opts.cachableMethods) === -1) {\n        escapedUrl = url.replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        this.root.cache.clear(new RegExp(escapedUrl));\n      }\n      req = this.opts.request(this.parent, ajaxOpts);\n      if (useCache) {\n        req.done((function(_this) {\n          return function() {\n            return _this.root.cache.put(key, req);\n          };\n        })(this));\n      }\n      return req;\n    };\n\n    return Resource;\n\n  })();\n\n  Resource.defaults = defaultOpts;\n\n  $.RestClient = Resource;\n\n}).call(this);\n\n//# sourceMappingURL=jquery.js.map\n"]}